(()=>{var e={};e.id=732,e.ids=[732],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},81215:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>h,routeModule:()=>m,serverHooks:()=>S,workAsyncStorage:()=>R,workUnitAsyncStorage:()=>N});var s={};t.r(s),t.d(s,{DELETE:()=>y,GET:()=>g,POST:()=>w,PUT:()=>f,dynamic:()=>p,revalidate:()=>d});var n=t(88797),i=t(10042),a=t(58492),o=t(65645),c=t(11185),u=t.n(c);let p="force-static",d=60;async function l(){u().connection.readyState||await u().connect(process.env.MONGO_URL,{useNewUrlParser:!0,useUnifiedTopology:!0})}async function w(e){try{await l();let r=await e.json(),t=await o.Z.create(r);return new Response(JSON.stringify(t),{status:201})}catch(e){return console.error("Error creating receipt:",e),new Response(JSON.stringify({error:"Failed to create receipt"}),{status:500})}}async function f(e){try{await l();let{_id:r,...t}=await e.json(),s=await o.Z.findByIdAndUpdate(r,t,{new:!0});return new Response(JSON.stringify(s),{status:200})}catch(e){return console.error("Error updating receipt:",e),new Response(JSON.stringify({error:"Failed to update receipt"}),{status:500})}}async function g(e){try{await l();let r=new URL(e.url).searchParams.get("_id"),t=r?await o.Z.findById(r):await o.Z.find();return new Response(JSON.stringify(t),{status:200})}catch(e){return console.error("Error retrieving receipts:",e),new Response(JSON.stringify({error:"Failed to retrieve receipts"}),{status:500})}}async function y(e){try{await l();let r=new URL(e.url).searchParams.get("id");if(!r)return new Response(JSON.stringify({error:"Receipt ID is required"}),{status:400});if(!await o.Z.findByIdAndDelete(r))return new Response(JSON.stringify({error:"Receipt not found"}),{status:404});return new Response(JSON.stringify({success:!0}),{status:200})}catch(e){return console.error("Error deleting receipt:",e.message),new Response(JSON.stringify({error:"Failed to delete receipt"}),{status:500})}}let m=new n.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/receipt/route",pathname:"/api/receipt",filename:"route",bundlePath:"app/api/receipt/route"},resolvedPagePath:"C:\\xampp\\htdocs\\codebrew2o\\codebrew2\\src\\app\\api\\receipt\\route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:R,workUnitAsyncStorage:N,serverHooks:S}=m;function h(){return(0,a.patchFetch)({workAsyncStorage:R,workUnitAsyncStorage:N})}},78031:()=>{},35303:()=>{},65645:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var s=t(11185),n=t.n(s),i=t(33938),a=t.n(i);let o=new(n()).Schema({customer:{staffname:String},product:[{name:String,price:Number}],total:Number,cartProducts:[{name:String,price:Number,quantity:Number,change:Number}],subtotal:Number,createdAt:{type:Date,default:()=>a().tz("Asia/Manila").toDate()}}),c=n().models.Receipt||n().model("Receipt",o)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[492,785],()=>t(81215));module.exports=s})();