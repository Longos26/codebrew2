(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7385],{779:(e,s,n)=>{Promise.resolve().then(n.bind(n,1011))},1011:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>d});var t=n(7437),a=n(2919),i=n(6281),r=n(2546),m=n(8497),o=n(7138),l=n(6463),u=n(2265),c=n(4962);function d(){let[e,s]=(0,u.useState)(!1),{loading:n,data:d}=(0,m.U)();async function h(e,n){e.preventDefault();let t=new Promise(async(e,s)=>{(await fetch("/api/menu-items",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})).ok?e():s()});await c.ZP.promise(t,{loading:"Saving this tasty item",success:"Saved",error:"Error"}),s(!0)}return e?(0,l.redirect)("/menu-items"):n?"Loading user info...":d.admin?(0,t.jsxs)("section",{className:"mt-8",children:[(0,t.jsx)(r.Z,{isAdmin:!0}),(0,t.jsx)("div",{className:"max-w-2xl mx-auto mt-8",children:(0,t.jsxs)(o.default,{href:"/menu-items",className:"button",children:[(0,t.jsx)(a.Z,{}),(0,t.jsx)("span",{children:"Show all menu items"})]})}),(0,t.jsx)(i.Z,{menuItem:null,onSubmit:h})]}):"Not an admin."}}},e=>{var s=s=>e(e.s=s);e.O(0,[7138,4962,6648,1149,7130,6215,1744],()=>s(779)),_N_E=e.O()}]);