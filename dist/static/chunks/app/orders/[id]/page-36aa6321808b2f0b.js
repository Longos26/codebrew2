(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6012],{1290:(e,t,r)=>{Promise.resolve().then(r.bind(r,4068))},6463:(e,t,r)=>{"use strict";var s=r(1169);r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}}),r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},7616:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return n}});let s=r(2265);function n(e,t){let r=(0,s.useRef)(()=>{}),n=(0,s.useRef)(()=>{});return(0,s.useMemo)(()=>e&&t?s=>{null===s?(r.current(),n.current()):(r.current=i(e,s),n.current=i(t,s))}:e||t,[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},291:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return s}});let s=r(9920)._(r(2265)).default.createContext(null)},4068:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(7437),n=r(6425),i=r(1376),a=r(2363),l=r(3479),c=r(6463),o=r(2265);function u(){let{clearCart:e}=(0,o.useContext)(n.A),[t,r]=(0,o.useState)(),[u,d]=(0,o.useState)(!0),{id:m}=(0,c.useParams)();(0,o.useEffect)(()=>{void 0!==window.console&&window.location.href.includes("clear-cart=1")&&e(),m&&(d(!0),fetch("/api/customers?_id="+m).then(e=>{e.json().then(e=>{r(e),d(!1)})}))},[]);let f=0;if(null==t?void 0:t.cartProducts)for(let e of t.cartProducts)f+=(0,n.B)(e);return(0,s.jsxs)("section",{className:"max-w-2xl mx-auto mt-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(a.Z,{mainHeader:"Customer Details"}),(0,s.jsxs)("div",{className:"mt-4 mb-8",children:[(0,s.jsx)("p",{children:"Thank you for shopping with us!"}),(0,s.jsx)("p",{children:"We will contact you for any updates regarding your order."})]})]}),u&&(0,s.jsx)("div",{children:"Loading customer information..."}),t&&(0,s.jsxs)("div",{className:"grid md:grid-cols-2 md:gap-16",children:[(0,s.jsxs)("div",{children:[t.cartProducts.map(e=>(0,s.jsx)(l.Z,{product:e},e._id)),(0,s.jsxs)("div",{className:"text-right py-2 text-gray-500",children:["Subtotal:",(0,s.jsxs)("span",{className:"text-black font-bold inline-block w-8",children:["₱",f]}),(0,s.jsx)("br",{}),"Total:",(0,s.jsxs)("span",{className:"text-black font-bold inline-block w-8",children:["₱",f]})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg",children:(0,s.jsx)(i.Z,{disabled:!0,customerProps:t})})})]})]})}},6425:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AppProvider:()=>o,B:()=>c});var s=r(7437),n=r(998),i=r(2265),a=r(4962);let l=(0,i.createContext)({});function c(e){var t;let r=e.basePrice||0;if((null===(t=e.size)||void 0===t?void 0:t.price)&&(r+=e.size.price),Array.isArray(e.extras))for(let t of e.extras)r+=t.price||0;return r*(e.quantity||1)}function o(e){let{children:t}=e,[r,c]=(0,i.useState)([]),o=window.localStorage;function u(e){o&&o.setItem("cart",JSON.stringify(e))}return(0,i.useEffect)(()=>{if(o&&o.getItem("cart"))try{let e=JSON.parse(o.getItem("cart"));Array.isArray(e)&&c(e)}catch(e){console.error("Failed to parse cart from localStorage:",e),o.removeItem("cart")}},[o]),(0,s.jsx)(n.SessionProvider,{children:(0,s.jsx)(l.Provider,{value:{cartProducts:r,setCartProducts:c,addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!((e.stock||0)>0)){a.ZP.error("Cannot add item to cart");return}c(n=>{let i=n.findIndex(s=>{var n;return s._id===e._id&&(null===(n=s.size)||void 0===n?void 0:n._id)===(null==t?void 0:t._id)&&JSON.stringify(s.extras)===JSON.stringify(r)});if(-1!==i){let e=[...n];return e[i].quantity+=s,u(e),e}{let i=[...n,{...e,size:t,extras:r,quantity:s}];return u(i),i}})},removeCartProduct:function(e){c(t=>{let r=t.filter((t,r)=>r!==e);return u(r),r}),a.ZP.success("Product removed")},clearCart:function(){c([]),u([])}},children:t})})}},3550:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(7437);function n(e){let{className:t="w-6 h-6"}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}},1376:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(7437);function n(e){let{customerProps:t,setCustomerProp:r}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Name"}),(0,s.jsx)("input",{type:"text",value:t.staffname||"",onChange:e=>r("staffname",e.target.value),className:"border p-2 rounded w-full",placeholder:"Your Name"})]})}},2363:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(7437);function n(e){let{subHeader:t,mainHeader:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:"uppercase text-white-500 font-semibold leading-4",children:t}),(0,s.jsx)("h2",{className:"text-green-500 font-bold text-4xl italic",children:r})]})}},3479:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(7437),n=r(6425),i=r(3550),a=r(6648);function l(e){var t;let{product:r,onRemove:l,index:c}=e,o=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(e);return(0,s.jsxs)("div",{className:"flex items-center gap-4 border-b py-4",children:[(0,s.jsx)("div",{className:"w-24",children:(0,s.jsx)(a.default,{width:240,height:240,src:r.image,alt:"productssimage"})}),(0,s.jsxs)("div",{className:"grow",children:[(0,s.jsx)("h3",{className:"font-semibold",children:r.name}),r.size&&(0,s.jsxs)("div",{className:"text-sm",children:["Size: ",(0,s.jsx)("span",{children:r.size.name})]}),(null===(t=r.extras)||void 0===t?void 0:t.length)>0&&(0,s.jsx)("div",{className:"text-sm text-gray-500",children:r.extras.map(e=>(0,s.jsxs)("div",{children:[e.name," ",o(e.price)]},e.name))})]}),(0,s.jsx)("div",{className:"text-lg font-semibold",children:o((0,n.B)(r))}),!!l&&(0,s.jsx)("div",{className:"ml-2",children:(0,s.jsx)("button",{type:"button",onClick:()=>l(c),className:"p-2",children:(0,s.jsx)(i.Z,{})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4962,6648,998,7130,6215,1744],()=>t(1290)),_N_E=e.O()}]);