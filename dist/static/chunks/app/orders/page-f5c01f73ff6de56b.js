(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1569],{423:(e,s,t)=>{Promise.resolve().then(t.bind(t,2898))},6463:(e,s,t)=>{"use strict";var a=t(1169);t.o(a,"redirect")&&t.d(s,{redirect:function(){return a.redirect}}),t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},2898:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(7437),r=t(2546),i=t(8497),c=t(7138),n=t(2265);function l(){let[e,s]=(0,n.useState)([]),[t,l]=(0,n.useState)(!0),{loading:d,data:u}=(0,i.U)();return(0,n.useEffect)(()=>{l(!0),fetch("/api/orders").then(e=>{e.json().then(e=>{s(e.reverse()),l(!1)})})},[]),(0,a.jsxs)("section",{className:"mt-8 max-w-4xl mx-auto p-6 bg-white shadow-lg rounded-lg",children:[(0,a.jsx)(r.Z,{isAdmin:u.admin}),(0,a.jsxs)("div",{className:"mt-8",children:[t&&(0,a.jsx)("div",{children:"Loading orders..."}),(null==e?void 0:e.length)>0&&e.map(e=>(0,a.jsxs)("div",{className:"bg-gray-100 mb-2 p-4 rounded-lg flex flex-col md:flex-row items-center gap-6",children:[(0,a.jsxs)("div",{className:"grow flex flex-col md:flex-row items-center gap-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:(e.paid?"bg-green-500":"bg-red-400")+" p-2 rounded-md text-white w-24 text-center",children:e.paid?"Paid":"Not paid"})}),(0,a.jsxs)("div",{className:"grow",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center mb-1",children:[(0,a.jsx)("div",{className:"grow",children:e.userEmail}),(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:function(e){let s=new Date(e);if(isNaN(s))throw Error("Invalid date string");let[t,a]=s.toLocaleString("en-PH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Manila"}).replace(",","").split(" "),[r,i,c]=t.split("/");return"".concat(c,"-").concat(i,"-").concat(r," ").concat(a)}(e.createdAt)})]}),(0,a.jsx)("div",{className:"text-gray-500 text-xs",children:e.cartProducts.map(e=>e.name).join(", ")})]})]}),(0,a.jsx)("div",{className:"justify-end flex gap-2 items-center whitespace-nowrap",children:(0,a.jsx)(c.default,{href:"/orders/"+e._id,className:"button",children:"Show order"})})]},e._id))]})]})}},8497:(e,s,t)=>{"use strict";t.d(s,{U:()=>r});var a=t(2265);function r(){let[e,s]=(0,a.useState)(!1),[t,r]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{r(!0),fetch("/api/profile").then(e=>{e.json().then(e=>{s(e),r(!1)})})},[]),{loading:t,data:e}}},2546:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var a=t(7437),r=t(7138),i=t(6463),c=t(2265);function n(e){let{isAdmin:s,isNewUser:t}=e,n=(0,i.usePathname)(),[l,d]=(0,c.useState)(!1);return(0,a.jsxs)("div",{className:"flex mx-auto gap-2 tabs justify-center flex-wrap",children:[(0,a.jsx)(r.default,{className:"/profile"===n?"active":"",href:"/profile",children:"Profile"}),!s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.default,{className:"/menu-notadmin"===n?"active":"",href:"/menu-notadmin",children:"Staff Menu Here"}),(0,a.jsx)(r.default,{className:"/staffreceipt"===n?"active":"",href:"/staffreceipt",children:"Staff Receipt"})]}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.default,{className:"/menu-list"===n?"active":"",href:"/menu-list",children:"Menu Here"}),(0,a.jsx)(r.default,{href:"/categories",className:"/categories"===n?"active":"",children:"Categories"}),(0,a.jsx)(r.default,{href:"/menu-items",className:n.includes("menu-items")?"active":"",children:"Add Items"}),(0,a.jsx)(r.default,{className:n.includes("/users")?"active":"",href:"/users",onClick:()=>{t&&(d(!0),setTimeout(()=>{d(!1)},5e3))},children:"Users"}),(0,a.jsx)(r.default,{className:n.includes("/sales")?"active":"",href:"/sales",children:"Sales"}),(0,a.jsx)(r.default,{className:n.includes("/receipt")?"active":"",href:"/receipt",children:"Receipt"}),(0,a.jsx)(r.default,{className:n.includes("/stocks")?"active":"",href:"/stocks",children:"Stocks"})]}),l&&(0,a.jsx)("div",{className:"text-red-500 mt-2",children:"Wait for admin permission on this account."})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[7138,7130,6215,1744],()=>s(423)),_N_E=e.O()}]);